@model  List<QuestionModel>
@{
    ViewBag.Title = "DoTest";
    Layout = "~/Views/Shared/_LayoutQuiz.cshtml";
}

@{
    var barWidth = 100 / Model.Count;
}
<style>
    .step-bar .bar{
        width: @(barWidth)% !important;
    }
</style>
<!-- step-number -->
<div class="step-number">
    <div class="step-number-inner">
        Question <span id="activeStep">1</span>/@Model.Count
    </div>
</div>


<div class="container">
    <div class="row">
        <div class="tab-100 order-c col-md-5 p-relative">
            <!-- side image -->
            <div class="side-img">
                <img src="~/Content/assets/images/side.png" alt="side-img">
            </div>

            <!-- bar -->
            <div class="step-bar">
                @{ var idx = 1; }
                @foreach (var q in Model) {
                    var load = idx == 1 ? "w-100 fill" : "fill";
                    <div class="bar">
                        <div class="@load"></div>
                    </div>
                    idx++;
                }
            </div>
        </div>

        <div class="tab-100 col-md-7">
            <div class="show-section wrapper">
                @{ var idx1 = 1; }
                @foreach (var q in Model) {
                    <section class="steps">
                        <!-- form -->
                        <form id="step@(idx1)" method="post" novalidate>
                            <!-- heading -->
                            <h2 class="q-heading">
                                @q.Description
                            </h2>

                            <!-- form field -->
                            <div class="form-inner">
                                @foreach (var answer in q.Answers) {
                                    <div class="bounce-left radio-field">
                                        <input class="checkmark" type="radio" name="@q.Id" value="@answer.Value">
                                        <label>@answer.Label</label>
                                    </div>
                                }
                            </div>
                            <!-- next previous button -->
                            @if (idx1 == Model.Count) {
                                <div class="next-prev">
                                    <button type="button" class="prev">
                                        <i class="fa-solid fa-arrow-left"></i>last question
                                    </button>
                                    <button type="button" class="apply" id="sub">
                                        Submit<i class="fa-solid fa-arrow-right"></i>
                                    </button>
                                </div>
                            }
                            else {
                                <div class="next-prev">
                                    <button type="button" class="prev">
                                        <i class="fa-solid fa-arrow-left"></i>last question
                                    </button>
                                    <button type="button" data-id="@(idx1)" class="next" id="step@(idx1)btn">
                                        next question<i class="fa-solid fa-arrow-right"></i>
                                    </button>
                                </div>
                            }


                        </form>
                    </section>
                    idx1++;
                }

                <div class="question overflow-hidden">
                    <img src="~/Content/assets/images/question-sign.png" alt="question">
                </div>
            </div>
        </div>
    </div>
</div>

<!-- result -->
<div class="loadingresult">
    <img src="~/Content/assets/images/loading.gif" alt="loading">
</div>

<div class="result_page">
    <div class="result_inner">
        <div class="result_inner2">
            <h2>Knowledge Check</h2>
            <div class="u_result">
                <div class="u_score">Your Score: </div>
                <div class="u_prcnt">
                    20%
                </div>
                <span>20 Points</span>
            </div>
            <div class="p_result">
                <div class="p_score">Passing Score: </div>
                <div class="p_prcnt">
                    80%
                </div>
                <span>80 Points</span>
            </div>
            <div class="line"></div>
            <div class="result_show">
                <h2>Result</h2>
                <div class="pass_check">
                    <i class="fa-solid fa-xmark"></i>You did not Pass
                </div>
                <div class="result_msg">
                    Better Luck Next Time!
                </div>
            </div>
        </div>

        <!-- rectangle -->
        <img class="behind_bg" src="~/Content/assets/images/bh-clip.png" alt="rectangle">
    </div>
</div>

@section scripts {
    <script src="~/Content/assets/js/custom-2.js"></script>
}